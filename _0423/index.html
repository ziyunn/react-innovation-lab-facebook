<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="app"></div>
    <script>
        function headerTag(title, sub){
            return `
            <header>
                <h1>
                    <a href="index.html" onclick="mode='welcome'; render(); event.preventDefault();">${title}</a>
                </h1>
                ${sub}
            </header>`
        }
        function navTag(data){ 
            var liTag ='';
            var i = 0;
            while(i < data.length){
                liTag = liTag + `
                    <li>
                        <a href="${data[i].id}.html" 
                           onclick="
                                mode='read'; 
                                selected_id = ${data[i].id}; 
                                render(); 
                                event.preventDefault();">${data[i].title}
                        </a>
                    </li>`;
                i = i + 1;
            }  

            return `
            <nav>
                <ol>
                    ${liTag}
                </ol>
            </nav>`
        }
        function articleTag(title, desc){
            return `
            <article>
                <h2>${title}</h2>
                ${desc}
            </article>`;
        }
        
        var mode = 'read'

        var contents = [
            {id:1, title:'HTML', desc:'HTML is...'},
            {id:2, title:'css', desc:'css is...'},
            {id:3, title:'javascript', desc:'javascript is...'}
        ];

        var selected_id = 1;

        function render(){
            var _articleTitle ='';
            var _articleDecs ='';
            
            if(mode === 'welcome'){
                _articleTitle = "Welcome";
                _articleDecs = "Hello, Web!";
            } else if(mode === 'read'){

                var i = 0;
                while(i < contents.length){
                    if(selected_id === contents[i].id){
                        _articleTitle = contents[i].title;
                        _articleDecs = contents[i].desc;
                        break;
                    }
                    i = i+1;
                }

            
            }
       
        
            document.querySelector('#app').innerHTML = (
                headerTag('HTML', 'World wide web!') +
                navTag(contents) +
                articleTag (_articleTitle, _articleDecs)
            );
        }
        render();
    </script>
</body>
</html>